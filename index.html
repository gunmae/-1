<!DOCTYPE html>
<html lang="ko">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
<title>í˜¸ë¡¤ë¡œ í™€ë”©ìŠ¤ - PRIME TERMINAL</title>
<script src="https://s3.tradingview.com/tv.js"></script>
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
<style>
    :root {
        /* ê·¸ë¦¼ì—ì„œ ì˜ê°ì„ ë°›ì€ ë”°ëœ»í•˜ê³  í™”ë ¤í•œ ìƒ‰ê° */
        --bg-color: linear-gradient(135deg, #5D4037, #C0392B); /* ì§™ì€ ê°ˆìƒ‰ì—ì„œ ë¶‰ì€ìƒ‰ìœ¼ë¡œ */
        --card-bg: #FFF8E1; /* ë”°ëœ»í•œ ìƒì•„ìƒ‰ */
        --header-bg: linear-gradient(to right, #C0392B, #F39C12); /* ë¶‰ì€ìƒ‰ì—ì„œ í™©ê¸ˆìƒ‰ */
        --text-main: #5D4037; /* ì§™ì€ ê°ˆìƒ‰ í…ìŠ¤íŠ¸ */
        --text-sub: #8D6E63; /* ì—°í•œ ê°ˆìƒ‰ í…ìŠ¤íŠ¸ */
        --accent-primary: #F39C12; /* í™©ê¸ˆìƒ‰ ê°•ì¡° */
        --accent-up: #E74C3C;      /* í™”ë ¤í•œ ë¶‰ì€ìƒ‰ (ìƒìŠ¹) */
        --accent-down: #2980B9;    /* ê¹Šì€ íŒŒë€ìƒ‰ (í•˜ë½) */
        --border-color: #F39C12; /* í™©ê¸ˆìƒ‰ í…Œë‘ë¦¬ */
        --box-shadow: 0 4px 15px rgba(243, 156, 18, 0.4); /* í™©ê¸ˆë¹› ê·¸ë¦¼ì */
        --cartoon-border: 2px solid #5D4037; /* ì¹´íˆ° ìŠ¤íƒ€ì¼ í…Œë‘ë¦¬ */
    }
    * { box-sizing: border-box; -webkit-tap-highlight-color: transparent; }
    body { margin: 0; background: var(--bg-color); color: var(--text-main); font-family: 'Jua', -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, sans-serif; overflow-x: hidden; font-size: 14px; }

    /* í—¤ë” & ì „ê´‘íŒ ìŠ¤íƒ€ì¼ */
    header {
        position: sticky; top: 0; z-index: 100; background: var(--header-bg); height: 70px; border-bottom: 3px solid var(--accent-primary); display: flex; justify-content: center; align-items: center; padding: 0 15px;
        box-shadow: var(--box-shadow);
    }
    .logo {
        font-size: 1.8rem; font-weight: 900; color: #FFF; letter-spacing: 2px; display: flex; align-items: center; gap: 10px; text-shadow: 2px 2px 4px rgba(0,0,0,0.3);
    }
    
    /* íŠ¸ë ˆì´ë”©ë·° ì „ê´‘íŒ ê³µê°„ */
    .ticker-wrap { height: 40px; background: #3E2723; overflow: hidden; border-bottom: 2px solid var(--accent-primary); }

    /* ë©”ì¸ ì»¨í…Œì´ë„ˆ (í™©ê¸ˆë¹„ ë ˆì´ì•„ì›ƒ ì‹œë„) */
    .container { padding: 20px; max-width: 900px; margin: 0 auto; min-height: 80vh; }
    
    /* ê·¸ë¦¬ë“œ ì‹œìŠ¤í…œ: í† ìŠ¤ì¦ê¶Œì²˜ëŸ¼ ì‹œì›ì‹œì›í•˜ê²Œ */
    .dashboard-grid {
        display: grid;
        grid-template-columns: 1fr;
        gap: 20px;
    }
    @media (min-width: 768px) {
        .dashboard-grid { grid-template-columns: 1.618fr 1fr; } /* í™©ê¸ˆë¹„ 1.618 : 1 */
    }

    .card {
        background: var(--card-bg); border: 2px solid var(--border-color); border-radius: 20px; padding: 24px; 
        box-shadow: var(--box-shadow); border-bottom: 6px solid var(--border-color); /* ì…ì²´ê° */
        transition: transform 0.2s; position: relative; overflow: hidden;
    }
    .card:active { transform: scale(0.98); }
    
    .card-title { font-size: 1rem; color: var(--text-sub); font-weight: 800; display: flex; align-items: center; gap: 8px; margin-bottom: 10px; }
    .card-value { font-size: 2.2rem; font-weight: 900; color: var(--text-main); letter-spacing: -1px; }
    .card-sub { margin-top: 5px; font-size: 0.9rem; font-weight: 600; color: var(--accent-up); }

    /* ê°€ìŠ¤ë¹„ ê²Œì´ì§€ */
    .gas-meter { display: flex; gap: 5px; margin-top: 15px; height: 10px; border-radius: 5px; overflow: hidden; background: #eee; }
    .gas-fill { height: 100%; background: var(--accent-primary); width: 0%; transition: width 1s; }

    /* ì°¨íŠ¸ ì˜ì—­ */
    .chart-card { grid-column: 1 / -1; height: 400px; padding: 0; overflow: hidden; background: #fff; }

    /* ë¡œë”© ì• ë‹ˆë©”ì´ì…˜ */
    .loading { animation: pulse 1.5s infinite; color: var(--text-sub); font-size: 1.5rem;}
    @keyframes pulse { 0% { opacity: 0.5; } 50% { opacity: 1; } 100% { opacity: 0.5; } }

    /* êµ¬ê¸€ í°íŠ¸ (ê·€ì—¬ìš´ Juaì²´) */
    @import url('https://fonts.googleapis.com/css2?family=Jua&display=swap');
</style>
</head>
<body>

<header>
    <div class="logo"><i class="fas fa-crown"></i> í˜¸ë¡¤ë¡œ í™€ë”©ìŠ¤</div>
</header>

<div class="ticker-wrap">
    <div class="tradingview-widget-container">
        <div class="tradingview-widget-container__widget"></div>
        <script type="text/javascript" src="https://s3.tradingview.com/external-embedding/embed-widget-ticker-tape.js" async>
        {
        "symbols": [{"proName":"BINANCE:BTCUSDT","title":"Bitcoin"},{"proName":"BINANCE:ETHUSDT","title":"Ethereum"},{"proName":"FX_IDC:KRWUSD","title":"KRW/USD"}],
        "showSymbolLogo": true, "colorTheme": "dark", "isTransparent": true, "displayMode": "adaptive", "locale": "kr"
        }
        </script>
    </div>
</div>

<div class="container">
    <div class="dashboard-grid">
        
        <div class="card" style="background: #fff;">
            <div class="card-title"><i class="fab fa-ethereum" style="color:#627eea"></i> ì´ë”ë¦¬ì›€ í˜„ì¬ê°€</div>
            <div class="card-value" id="eth-price"><span class="loading">Loading...</span></div>
            <div class="card-sub" id="market-cap">ì‹œê°€ì´ì•¡ ë¡œë”©ì¤‘...</div>
        </div>

        <div class="card">
            <div class="card-title"><i class="fas fa-gas-pump" style="color:var(--accent-down)"></i> ì‹¤ì‹œê°„ ê°€ìŠ¤ë¹„</div>
            <div class="card-value" id="gas-standard"><span class="loading">--</span></div>
            <div style="font-size:0.8rem; color:var(--text-sub); margin-top:5px;">ì§€ê¸ˆ ì „ì†¡í•˜ë©´ ì´ë§Œí¼ ë“¤ì–´ìš”!</div>
            <div class="gas-meter"><div class="gas-fill" id="gas-bar"></div></div>
        </div>

        <div class="card chart-card">
            <div id="tv-chart" style="height:100%; width:100%;"></div>
        </div>

        <div class="card">
            <div class="card-title"><i class="fas fa-coins" style="color:var(--accent-primary)"></i> ì´ ìœ í†µëŸ‰</div>
            <div class="card-value" id="total-supply" style="font-size:1.8rem;"><span class="loading">--</span></div>
            <div class="card-sub" style="color:var(--text-sub)">ì„¸ìƒì— ì¡´ì¬í•˜ëŠ” ëª¨ë“  ETH</div>
        </div>

        <div class="card">
            <div class="card-title"><i class="fas fa-fire" style="color:var(--accent-up)"></i> ì‹¤ì‹œê°„ ì†Œê° (Burn)</div>
            <div class="card-value" id="base-fee" style="font-size:1.8rem; color:var(--accent-up);"><span class="loading">--</span></div>
            <div class="card-sub" style="color:var(--text-sub)">ë¸”ë¡ë‹¹ ë¶ˆíƒ€ê³  ìˆëŠ” ê°€ìŠ¤</div>
        </div>

    </div>
</div>

<script>
    // ğŸ”´ [í•„ìˆ˜] ë³¸ì¸ì˜ Etherscan API Keyë¥¼ ì—¬ê¸°ì— ë„£ìœ¼ì„¸ìš”!
    const ETHERSCAN_API_KEY = MB2TY81YJ99HAQD6TNKT7Q5WDZXCTQH2CB; 

    // í™”í í¬ë§·
    const fmtUSD = (n) => new Intl.NumberFormat('en-US', { style: 'currency', currency: 'USD' }).format(n);
    const fmtNum = (n) => new Intl.NumberFormat('en-US').format(n);

    // ì°¨íŠ¸ ìœ„ì ¯ ë¡œë“œ (í™©ê¸ˆë¹„ í…Œë§ˆ ì ìš©)
    new TradingView.widget({
        "container_id": "tv-chart", "symbol": "BINANCE:ETHUSDT", "interval": "60", "theme": "light",
        "style": "1", "locale": "kr", "toolbar_bg": "#f1f3f6", "enable_publishing": false,
        "hide_top_toolbar": true, "save_image": false, "backgroundColor": "#ffffff",
        "width": "100%", "height": "100%"
    });

    async function fetchData() {
        try {
            // 1. ê°€ê²© (CoinGecko)
            const pRes = await fetch('https://api.coingecko.com/api/v3/simple/price?ids=ethereum&vs_currencies=usd&include_market_cap=true');
            const pData = await pRes.json();
            document.getElementById('eth-price').innerText = fmtUSD(pData.ethereum.usd);
            document.getElementById('market-cap').innerText = `ì‹œì´: ${fmtUSD(pData.ethereum.usd_market_cap)}`;

            // 2. ê°€ìŠ¤ë¹„ (Etherscan)
            const gRes = await fetch(`https://api.etherscan.io/api?module=gastracker&action=gasoracle&apikey=${ETHERSCAN_API_KEY}`);
            const gData = await gRes.json();
            if(gData.status === "1") {
                const standard = gData.result.ProposeGasPrice;
                const base = parseFloat(gData.result.suggestBaseFee).toFixed(2);
                
                document.getElementById('gas-standard').innerText = `${standard} Gwei`;
                document.getElementById('base-fee').innerText = `${base} Gwei`;
                
                // ê°€ìŠ¤ë°” ì• ë‹ˆë©”ì´ì…˜ (ëŒ€ëµ 100 Gweië¥¼ Maxë¡œ ì¡ìŒ)
                let pct = (standard / 100) * 100;
                if(pct > 100) pct = 100;
                document.getElementById('gas-bar').style.width = `${pct}%`;
            }

            // 3. ìœ í†µëŸ‰ (Etherscan)
            const sRes = await fetch(`https://api.etherscan.io/api?module=stats&action=ethsupply&apikey=${ETHERSCAN_API_KEY}`);
            const sData = await sRes.json();
            if(sData.status === "1") {
                const supply = Math.floor(sData.result / 1000000000000000000);
                document.getElementById('total-supply').innerText = fmtNum(supply);
            }

        } catch (e) { console.log(e); }
    }

    fetchData();
    setInterval(fetchData, 5000);
</script>
</body>
</html>
